!!! Strict
%html{html_attrs}
  
  %head
    = javascript_include_tag 'jquery-1.4.2.min.js'
    = javascript_include_tag 'jquery.tools.min.js'
    = javascript_include_tag 'jquery.tooltip.pack.js'
    = javascript_include_tag 'jquery.autocomplete.min.js'
    = javascript_include_tag 'jquery-ui-1.8.custom.min.js'
    = javascript_include_tag 'jquery.datePicker.js'
    = javascript_include_tag 'facebox.js'
    = javascript_include_tag 'visualize.jQuery.js'
    = javascript_include_tag 'enhance.js'
    = javascript_include_tag 'application'
    = javascript_include_tag 'rails'
    =# javascript_include_tag :defaults

    = stylesheet_link_tag 'http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/themes/redmond/jquery-ui.css'
    = stylesheet_link_tag 'formtastic'
    = stylesheet_link_tag 'jquery.autocomplete.css'
    = stylesheet_link_tag 'jquery.tooltip.css'
    = stylesheet_link_tag 'ui.datepicker.css'
    = stylesheet_link_tag 'facebox.css'
    = stylesheet_link_tag 'visualize-light.css'
    = stylesheet_link_tag 'basic.css'
    = stylesheet_link_tag 'visualize.css'

    %title
      = h(yield(:title) || "Untitled")
    %meta{"http-equiv"=>"Content-Type", :content=>"text/html; charset=utf-8"}/
    =# stylesheet_link_tag '/stylesheets/application.css', :media => "all"
    = stylesheet_link_tag "http://#{request.host_with_port}/stylesheets/application.css", :media => "screen"
    =# stylesheet_link_tag "/usr/local/RubyProjects/TrainingTracker/public/stylesheets/application.css", :media => "all"
    = yield(:head)
    = csrf_meta_tag

    :javascript
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-6217562-6']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

  %body
    #container
      =# link_to image_tag("logo.jpg", :alt => "Senn Performance"), root_path
      = link_to image_tag("logo.jpg", :alt => "Senn Performance"), "http://www.sennperformance.com", :id => 'pdf_remove'
      = image_tag("beta.jpg", :alt => "Beta", :id => 'pdf_remove')
      - unless session.blank? or current_user.nil?
        .little_grey_box.float_right.round
          =# link_to "Calendar", root_path, :title => "Your calendar", :class => "tool-tip"
          - if current_user.coach?
            =# link_to "Clients", clients_path, :title => "Go to your client list", :class => "tool-tip"
          %p=# link_to current_user.username, user_path(current_user), :title => "Your account information", :class => "tool-tip"
          %p
            = link_to image_tag("calendar_icon.png", :alt => "Calendar"), root_path, :title => "Your calendar", :class => "tool-tip"
            - if current_user.coach?
              = link_to image_tag("clients_icon.jpg", :alt => "Clients"), clients_path, :title => "Your clients", :class => "tool-tip"
            = link_to image_tag("settings_icon.png", :alt => "Account"), user_path(current_user), :title => "Your account", :class => "tool-tip"
            = link_to image_tag("logout_icon.png", :alt => "Log out"), logout_path, :confirm => "Are you sure you want to log out?", :title => "Log out", :class => "tool-tip"
          =# link_to 'Exercises', exercises_path
          =# link_to 'Workouts', workouts_path
          %p=# link_to 'log out', logout_path, :confirm => "Are you sure you want to log out?", :title => "Log out", :class => "tool-tip"
      - flash.each do |name, msg|
        = content_tag :div, msg, :id => "flash_#{name}"
      
      - if show_title?
        %h1=h yield(:title)
      
      = yield